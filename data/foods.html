<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Food Database - Healthy Breakfast Nutrition</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- 导航栏 -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-logo">
                <h2>🍳 <span data-i18n="nav.title">Healthy Breakfast</span></h2>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="index.html" class="nav-link" data-i18n="nav.home">Home</a>
                </li>
                <li class="nav-item">
                    <a href="foods.html" class="nav-link active" data-i18n="nav.foods">Food Database</a>
                </li>
                <li class="nav-item">
                    <a href="chinese-foods.html" class="nav-link" data-i18n="nav.chinese">Chinese Cuisine</a>
                </li>
                <li class="nav-item">
                    <a href="city-foods.html" class="nav-link" data-i18n="nav.cityFoods">City Specialties</a>
                </li>
                <li class="nav-item">
                    <a href="food-roulette.html" class="nav-link" data-i18n="nav.foodRoulette">Food Roulette</a>
                </li>
                <li class="nav-item">
                    <a href="lunch-roulette.html" class="nav-link" data-i18n="nav.lunchRoulette">Lunch Roulette</a>
                </li>
                <li class="nav-item">
                    <a href="game.html" class="nav-link" data-i18n="nav.game">Nutrition Game</a>
                </li>
            </ul>
            <div class="language-switcher">
                <button class="lang-btn" data-lang="zh" onclick="switchLanguage('zh')">中文</button>
                <button class="lang-btn active" data-lang="en" onclick="switchLanguage('en')">English</button>
            </div>
        </div>
    </nav>

    <!-- 页面标题 -->
    <header class="page-header">
        <div class="container">
            <h1 data-i18n="foods.title">食物营养库</h1>
            <p data-i18n="foods.subtitle">探索100种常见食物的详细营养信息，为您的健康早餐提供科学参考</p>
            
            <!-- 分享按钮 -->
            <div class="share-section">
                <h4 data-i18n="share.title">分享到社交媒体</h4>
                <div class="share-buttons">
                    <button class="share-btn facebook" onclick="shareToFacebook()" title="Facebook">
                        <span class="share-icon">📘</span>
                        <span class="share-text" data-i18n="share.facebook">Facebook</span>
                    </button>
                    <button class="share-btn twitter" onclick="shareToTwitter()" title="Twitter">
                        <span class="share-icon">🐦</span>
                        <span class="share-text" data-i18n="share.twitter">Twitter</span>
                    </button>
                    <button class="share-btn linkedin" onclick="shareToLinkedIn()" title="LinkedIn">
                        <span class="share-icon">💼</span>
                        <span class="share-text" data-i18n="share.linkedin">LinkedIn</span>
                    </button>
                    <button class="share-btn whatsapp" onclick="shareToWhatsApp()" title="WhatsApp">
                        <span class="share-icon">💬</span>
                        <span class="share-text" data-i18n="share.whatsapp">WhatsApp</span>
                    </button>
                    <button class="share-btn telegram" onclick="shareToTelegram()" title="Telegram">
                        <span class="share-icon">📱</span>
                        <span class="share-text" data-i18n="share.telegram">Telegram</span>
                    </button>
                    <button class="share-btn email" onclick="shareToEmail()" title="Email">
                        <span class="share-icon">📧</span>
                        <span class="share-text" data-i18n="share.email">Email</span>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- 搜索和筛选 -->
    <section class="search-section">
        <div class="container">
            <div class="search-container">
                <input type="text" id="searchInput" placeholder="搜索食物名称..." class="search-input">
                <button class="search-btn" onclick="performSearch()">🔍</button>
            </div>
            
            <div class="filter-container">
                <div class="filter-group">
                    <label data-i18n="foods.categoryFilter">分类筛选：</label>
                    <button class="filter-btn active" data-category="all" data-i18n="foods.allCategories">全部</button>
                    <button class="filter-btn" data-category="grains" data-i18n="foods.grains">谷物类</button>
                    <button class="filter-btn" data-category="protein" data-i18n="foods.protein">蛋白质类</button>
                    <button class="filter-btn" data-category="dairy" data-i18n="foods.dairy">乳制品</button>
                    <button class="filter-btn" data-category="fruits" data-i18n="foods.fruits">水果类</button>
                    <button class="filter-btn" data-category="vegetables" data-i18n="foods.vegetables">蔬菜类</button>
                    <button class="filter-btn" data-category="nuts" data-i18n="foods.nuts">坚果类</button>
                    <button class="filter-btn" data-category="drinks" data-i18n="foods.drinks">饮品</button>
                </div>
                
                <div class="filter-group">
                    <label data-i18n="foods.sortBy">营养排序：</label>
                    <select id="sortSelect" class="sort-select" onchange="sortFoods(this.value)">
                        <option value="name" data-i18n="foods.sortByName">按名称</option>
                        <option value="calories" data-i18n="foods.sortByCalories">按热量</option>
                        <option value="protein" data-i18n="foods.sortByProtein">按蛋白质</option>
                        <option value="carbs" data-i18n="foods.sortByCarbs">按碳水化合物</option>
                        <option value="fat" data-i18n="foods.sortByFat">按脂肪</option>
                        <option value="fiber" data-i18n="foods.sortByFiber">按纤维</option>
                    </select>
                </div>
            </div>
        </div>
    </section>

    <!-- 食物展示 -->
    <section class="foods-section">
        <div class="container">
            <div class="foods-grid" id="foodsGrid">
                <!-- 食物卡片将通过JavaScript动态加载 -->
                <div style="text-align: center; padding: 2rem; color: #666;">
                    <p>正在加载食物数据...</p>
                </div>
            </div>
            
            <div class="pagination" id="pagination">
                <!-- 分页控件将通过JavaScript动态加载 -->
            </div>
        </div>
    </section>

    <!-- 食物详情模态框 -->
    <div id="foodModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal()">&times;</span>
            <div id="modalContent">
                <!-- 食物详情内容将通过JavaScript动态加载 -->
            </div>
        </div>
    </div>

    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3 data-i18n="footer.title">🍳 营养早餐</h3>
                    <p data-i18n="footer.slogan">让健康生活从每一顿营养早餐开始</p>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.quickLinks">快速链接</h4>
                    <ul>
                        <li><a href="index.html" data-i18n="nav.home">首页</a></li>
                        <li><a href="foods.html" data-i18n="nav.foods">食物库</a></li>
                        <li><a href="game.html" data-i18n="nav.game">营养游戏</a></li>
                        <li><a href="privacy-policy.html" data-i18n="footer.privacyPolicy">隐私政策</a></li>
                        <li><a href="terms-of-service.html" data-i18n="footer.termsOfService">服务条款</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4 data-i18n="footer.contact">联系我们</h4>
                    <p>📧 <span data-i18n="footer.email">邮箱</span>: <span data-i18n="footer.emailAddress">contact@foodpairing.online</span></p>
                    <p>📱 <span data-i18n="footer.wechat">微信</span>: zhangyouxun2013</p>
                    <p>📞 <span data-i18n="footer.phone">电话</span>: <span data-i18n="footer.phoneNumber">暂不提供电话服务，请通过邮箱联系</span></p>
                </div>
            </div>
            <div class="footer-bottom">
                <p data-i18n="footer.copyright">&copy; 2024 营养早餐. 保留所有权利.</p>
                <div class="footer-legal-links">
                    <a href="privacy-policy.html" data-i18n="footer.privacyPolicy">隐私政策</a>
                    <a href="terms-of-service.html" data-i18n="footer.termsOfService">服务条款</a>
                </div>
                <p><a href="https://www.seodog.cn" target="_blank" rel="noopener noreferrer" class="ai-tools-link"><span class="link-icon">🔗</span> <span data-i18n="footer.aiTools">AI工具导航</span> - SEOdog.cn</a></p>
            </div>
        </div>
    </footer>

    <!-- JavaScript文件 -->
    <script src="i18n.js"></script>
    <script src="foods-data.js"></script>
    <script src="script.js"></script>
    
    <script>
        // 页面特定的JavaScript
        document.addEventListener('DOMContentLoaded', function() {
            console.log('食物库页面加载完成');
            
            // 初始化国际化
            if (typeof updateLanguage === 'function') {
                updateLanguage();
            }
            
            // 设置搜索功能
            const searchInput = document.getElementById('searchInput');
            if (searchInput) {
                searchInput.addEventListener('keypress', function(e) {
                    if (e.key === 'Enter') {
                        performSearch();
                    }
                });
            }
            
            // 设置筛选按钮事件
            const filterButtons = document.querySelectorAll('.filter-btn');
            filterButtons.forEach(button => {
                button.addEventListener('click', function() {
                    // 移除所有活动状态
                    filterButtons.forEach(btn => btn.classList.remove('active'));
                    // 添加当前按钮的活动状态
                    this.classList.add('active');
                    
                    const category = this.getAttribute('data-category');
                    filterByCategory(category);
                });
            });
            
            // 设置模态框关闭事件
            const modal = document.getElementById('foodModal');
            const closeBtn = document.querySelector('.close');
            
            if (closeBtn) {
                closeBtn.addEventListener('click', closeModal);
            }
            
            if (modal) {
                modal.addEventListener('click', function(e) {
                    if (e.target === modal) {
                        closeModal();
                    }
                });
            }
            
            console.log('食物库页面初始化完成');
        });
        
        // 搜索功能
        function performSearch() {
            const searchInput = document.getElementById('searchInput');
            const query = searchInput ? searchInput.value.trim() : '';
            
            if (typeof filterBySearch === 'function') {
                filterBySearch(query);
            } else {
                console.log('搜索查询:', query);
                // 如果没有filterBySearch函数，可以在这里实现搜索逻辑
            }
        }
        
        // 关闭模态框
        function closeModal() {
            const modal = document.getElementById('foodModal');
            if (modal) {
                modal.style.display = 'none';
            }
        }
        
        // 显示食物详情
        function showFoodDetails(food) {
            const modal = document.getElementById('foodModal');
            const modalContent = document.getElementById('modalContent');
            
            if (modal && modalContent) {
                modalContent.innerHTML = `
                    <div style="text-align: center; padding: 20px;">
                        <div style="font-size: 4rem; margin-bottom: 10px;">${food.emoji}</div>
                        <h2 style="color: #ff6b6b; margin-bottom: 10px;">${food.name}</h2>
                        <p style="color: #666; margin-bottom: 20px;">${food.description}</p>
                        
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 15px; margin-bottom: 20px;">
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: bold; color: #ff6b6b;">${food.calories}</div>
                                <div style="color: #666; font-size: 0.9rem;">热量 (kcal)</div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: bold; color: #28a745;">${food.protein}g</div>
                                <div style="color: #666; font-size: 0.9rem;">蛋白质</div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: bold; color: #ffc107;">${food.carbs}g</div>
                                <div style="color: #666; font-size: 0.9rem;">碳水化合物</div>
                            </div>
                            <div style="background: #f8f9fa; padding: 15px; border-radius: 10px; text-align: center;">
                                <div style="font-size: 1.5rem; font-weight: bold; color: #dc3545;">${food.fat}g</div>
                                <div style="color: #666; font-size: 0.9rem;">脂肪</div>
                            </div>
                        </div>
                        
                        <button onclick="closeModal()" style="background: linear-gradient(135deg, #ff6b6b, #ffa500); color: white; border: none; padding: 12px 24px; border-radius: 25px; cursor: pointer; font-weight: 600;">
                            关闭
                        </button>
                    </div>
                `;
                
                modal.style.display = 'block';
            }
        }
    </script>
</body>
</html> 